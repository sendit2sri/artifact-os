# Security & Auth
SECRET_KEY=change_this_unsafe_secret
SUPABASE_URL=http://db:8000
SUPABASE_KEY=your_supabase_anon_key

# Database (Local Docker: postgres@db)
# For running Alembic on the host (e.g. alembic upgrade head), use localhost and a valid Postgres user:
#   DATABASE_URL=postgresql://postgres:postgres@localhost:5432/artifact_dev
DATABASE_URL=postgresql+asyncpg://postgres:postgres@db:5432/artifact_dev

# Services
OPENAI_API_KEY=sk-...
FIRECRAWL_API_KEY=fc-...
REDIS_URL=redis://redis:6379/0

# Frontend API Configuration
# NEXT_PUBLIC_API_URL is intentionally NOT set here
# Scira query intake UI: set to 'true' to show Query tab on project page (backend must have SCIRA_QUERY_INGEST_ENABLED=true)
# NEXT_PUBLIC_SCIRA_QUERY_INGEST_ENABLED=
# Default behavior: Uses "/api/v1" which triggers Next.js rewrites (same-origin, no CORS)
# Only override this if you need to test direct backend calls:
# NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1

# Storage (MinIO or S3)
S3_ENDPOINT_URL=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=artifact-assets

# Scira query ingest (optional)
# SCIRA_QUERY_INGEST_ENABLED=false  # Set to 'true' to enable POST /projects/{id}/ingest/query
# TAVILY_API_KEY=                   # Tavily API key for web search (or use SCIRA_USE_MOCK_SEARCH=true)
# SCIRA_USE_MOCK_SEARCH=false       # Use mock search (no network) when true or when TAVILY_API_KEY unset
# SCIRA_ALLOWED_DOMAINS=            # Optional: comma-separated domains to allow (e.g. example.com,wikipedia.org)

# Testing
ARTIFACT_ENABLE_TEST_SEED=false  # Set to 'true' to enable test seed endpoints for E2E tests
ARTIFACT_E2E_MODE=false  # Set to 'true' for deterministic synthesis (no LLM) in E2E tests
# Frontend: show "Try demo seed" in quickstart when set (e.g. dev or E2E)
# NEXT_PUBLIC_ENABLE_TEST_SEED=true
# Frontend: disable onboarding overlay in E2E (set when running Playwright)
# NEXT_PUBLIC_E2E_MODE=true
